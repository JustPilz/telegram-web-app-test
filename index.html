<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      * {
        margin: 0;
        padding: 0;
      }
      body {
        background: #ddf4ff;
      }
      .container {
        display: flex;
        max-width: 138px;
        flex-wrap: wrap;
        gap: 10px;
        padding: 10px;
        margin: 0 auto;
      }
      .card {
        background: #333;
        width: 64px;
        height: 64px;
      }
      button {
        padding: 10px;
      }
    </style>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
      const {} = window.Telegram.WebApp;
      function buttonClick() {}
    </script>
  </head>
  <body>
    <div class="container">
      <div class="card"><img src="img/Item.Bread.png" alt="" /></div>
      <div class="card"><img src="img/Item.Burger.png" alt="" /></div>
      <div class="card"><img src="img/Item.Cheese.png" alt="" /></div>
      <div class="card"><img src="img/Item.Type.png" alt="" /></div>
    </div>
    <p id="version">version: 1</p>
    <p id="colorScheme"></p>
    <p id="isExpanded"></p>
    <p id="viewportHeight"></p>
    <p id="viewportStableHeight"></p>
    <button id="expand">expand</button>
    <button id="close">close</button>
    <button id="setText" text="Test">setText</button>
    <script>
      function init() {
        const {
          isExpanded,
          colorScheme,
          viewportHeight,
          viewportStableHeight,
          expand,
          close,
          MainButton,
        } = window.Telegram.WebApp;
        document.querySelector(
          '#colorScheme'
        ).textContent = `colorScheme: ${colorScheme}`;
        document.querySelector(
          '#isExpanded'
        ).textContent = `isExpanded: ${isExpanded}`;
        document.querySelector(
          '#viewportHeight'
        ).textContent = `viewportHeight: ${viewportHeight}`;
        document.querySelector(
          '#viewportStableHeight'
        ).textContent = `viewportStableHeight: ${viewportStableHeight}`;
      }

      document.querySelector('#expand').onclick = expand;
      document.querySelector('#close').onclick = close;
      const setTextEl = document.querySelector('#setText');
      setTextEl.onclick = () => {
        console.log(MainButton);
        const text = setTextEl.getAttribute('text') == 'Test' ? 'Main' : 'Test';
        setTextEl.setAttribute('text', text);
        MainButton.setText(text);
        MainButton.show();
      };

      const { onEvent } = window.Telegram.WebApp;
      onEvent('viewportChanged', () => {
        init();
      });

      init();
    </script>
  </body>
</html>
